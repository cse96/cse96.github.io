# DevOps

### 서버를 관리한다는 것

서버의 상태를 관리하기 위한 노력으로 발전과정  
자체 서버 운영 -> 설정(상태)관리 도구 등장  
가상 머신 등장 -> 클라우드 등장-> Paas등장 -> 도커등장  
쿠버네티스 등장 -> 서비스메시 등장

# 자체 서버 운영

서버 주문,설치,cpu,메모리,하드조립, 네트워크 연결, ...  
 이러한 과정은  
 Node.js설치시  
 Dependency설정->Node.js->Git clone->package->configuration->proxy->run하는 과정이 필요  
 이러한 과정을 명령어를 통해 하나하나 변경해야 했다.  
 명령어를 까먹거나 node.js의 버전을 변경하는 경우 기존의 동작하는 서버에 적용하기가 부담이 되는 작업

---

# 상태관리도구

설정파일을 통해 서버가 없는 부분을 설치해주고 관리한다.  
 문서보다는 코드가 좋고 협업도 가능하다.

- 하지만 약간 공부가 필요함

---

# 가상머신

환경이 변하거나 까먹으면 run도 안됐지만 가상머신으로 돌리면 일단 돌아는 간다.

- 느리다

---

# 클라우드

AWS, Google...등등
하드웨어 파편화 문제 해결
가상화된 환경만으로 아키텍처 구성이 가능해짐
이미지를 기반으로한 다수의 서버 상태관리

- 서버상태관리에 대한 새로운 접근
- 서버 운영의 문제는 여전히 남아있음

---

# PaaS

Heroku, Netlify...  
 서버를 운영하는 것은 복잡하고 어렵다  
 사용하는 사람은 infra를 몰라도 소스 코드만으로 배포가 가능하도록 만듬!  
 일반화된 프로비저닝 방법을 제공  
 소스를 다운받고 빌드하고 도메인 연결을 가상의 도메인을 만들어줘서 1~2분만에 서버에 올라온다!  
 사용자의 접속량에 따라 자동으로 확장되는 장점  
 하지만

- 애플리케이션을 PaaS방식에 맞게 작성해야함  
  서버에 파일 시스템을 사용할 수 없음  
  서버에 대한 원격 접속 시스템을 제공하지 않음  
  Site패키지를 설치할 수 없음  
  Log수집을 제한적인 방식으로 허용(STDOUT)  
  애플리케이션의 새로운 패러다임

PaaS에서 할 수 있을까?  
문자발송예약, 데이터분석,로그분석,애플리케이션 성능 모니터링, A/B테스트, Canary배포,네트워크,스토리지설정 등등..

---

# 도커와 쿠버네티스 등장

기존방식과 다름..!  
Jenkins: CI/CD도구
WordPress: php/MySql필요  
Docker를 이용하면 설정이 매우 간단  
가상 머신처럼 독립적으로 실행되지만 가상머신 보다 빠르고 효율적이고 쉽다.  
어떠한 프로그램도 컨테이너(리눅스 기술을 사용해 프로세스가 사용한느 자원을 격리하는 단위)로 만들 수 있다.

- 자원격리 기능

# 도커가 가져온 변화

- 클라우드 이미지보다 관리하기 쉬움
- 다른프로세스와 격리되어 가상머신 처럼 사용하지만 성능저하가 없음
- 모든것을 컨테이너로

Developer - Build - Ship - Run!  
코드 작성후 빌드한 이미지를 서버에 배포하고 서버는 도커로 실행까지는 도커가 해결해줌  
배포 이후에는?

# 컨테이너 오케스트레이션

- 배포관리  
  여유있는 서버에 할당, 부족하면 새로 생성
- 버전 업 롤 백을 알아서

# 쿠버네티스

컨테이너를 쉽고 빠르게 배포/확장하고 관리를 자동화해주는 오픈소스 플랫폼

쿠버네티스  
컨테이너 배포시스템으로 사용하던 borg를 기반으로 만든 오픈소스

도커는 각 앱마다 필요한 환경을 컨테이너로 관리하는 프로그램이고 쿠버네티스는 컨테이너를 관리하는 프로그램

쿠버네티스 안에서 도커가 돌고 있는것!

# 배포 프로세스 관리하기

# DevOps 역할

- 서비스를 배포하고 지원 + 모니터링
- 배포 파이프라인 구성
- 더 자주 더 빠른 릴리스
- Cloud..
